<nb-layout fxLayout="column" fxFill *ngIf="!protocolsTemplate; else protocols">
  <nb-sidebar tag="left" *ngIf="!ribbon" [state]="sideNavCollapsed ? 'collapsed' : 'expanded' " #sideBarRef>
    <app-side-nav
      [sideBarRef]="sideBarRef"
      [activeTab]="activeTab"
      [navigation]="navigation"
      (actionEmitted)="navActionEmitted($event)">
    </app-side-nav>
  </nb-sidebar>
  <nb-layout-column style="padding: 0; height: 100%; max-height: 100%; min-height: 100%;" fxLayout="column">
    <app-toolbar
      *ngIf="!ribbon"
      [navigation]="topNav"
      (expand)="sideNavCollapsed=!sideNavCollapsed"
      (actionEmitted)="navActionEmitted($event)"
    >
    </app-toolbar>
    <app-ribbon fxLayout="row" fxLayoutAlign="start start"
                *ngIf="ribbon"
                [activeTab]="activeTab"
                [navigation]="navigation"
                (actionEmitted)="navActionEmitted($event)"
    >
    </app-ribbon>
    <div fxLayout="row" fxFlex fxLayoutAlign="start start" style="overflow: hidden; padding: .5rem">
      <router-outlet></router-outlet>
      <div id="assetQuickFilter">
        <app-quick-filter></app-quick-filter>
      </div>
    </div>
  </nb-layout-column>
</nb-layout>


<ng-template #protocols>
  <router-outlet></router-outlet>
</ng-template>
