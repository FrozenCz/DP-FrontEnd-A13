<nb-card style="max-width: 98vw;min-width: 50em;">
  <nb-card-header fxLayout="row" fxLayoutAlign="start center" fxLayoutGap=".5em">
    <nb-icon icon="clock-outline"></nb-icon>
    <div>Detail historie</div>
  </nb-card-header>
  <nb-card-body fxLayout="column" fxLayoutGap="1em">
    <div fxLayout="row" fxLayoutAlign="space-between start">
      <div fxLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
        <div class="caption">
          Typ změny
        </div>
        <div fxLayoutGap=".5em" fxLayout="row" fxLayoutAlign="start center" (click)="openDetail()" style="cursor: pointer">
          <div [innerHTML]="changeType.icon"></div>
          <span>{{changeType.name}}</span>
        </div>
      </div>
      <div fxLayout="row" style="margin-left: 3em">
        Dne: {{createdDate}}
      </div>
    </div>
    <div fxLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
      <div class="caption">
        Provedl
      </div>
      <div>
        {{doneBy.name}} {{doneBy.surname}}
      </div>
    </div>
    <div fxLayout="column" fxFlex fxLayoutGap="1em" fxLayoutAlign="start">
      <div class="caption">
        Provedené změny
      </div>
      <div fxLayout="row" fxFlex fxLayoutAlign="start">
        <div fxLayout="column" fxFlex  *ngIf="changedFrom.length">
          <div class="caption">
            Změněno z
          </div>
          <ul>
            <li *ngFor="let change of changedFrom" >
              <label>{{change.propertyName}}</label>
              <span>{{change.propertyValue}}</span>
            </li>
          </ul>
        </div>
        <div fxLayout="column" fxFlex *ngIf="changedTo.length">
          <div class="caption">
            Změněno na
          </div>
          <ul>
            <li *ngFor="let change of changedTo">
              <label>{{change.propertyName}}</label>
              <span>{{change.propertyValue}}</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>
